sys = {
  cores = {
    c = {
	  cores = 4;
      type = "OOO";
      dcache = "l1d";
      icache = "l1i";
    };
  };

  caches = {
    l1d = {
      array = {
        type = "SetAssoc";
        ways = 4;
      };
      type = "Simple";
      size = 65536;
      caches = 4;
      #tagLat = 1;
      #mshrs = 84;
    };
    
    l1i = {
      array = {
        type = "SetAssoc";
        ways = 4;
      };
      type = "Simple";
      size = 65536;
      caches = 4;
      #tagLat = 1;
      #mshrs = 12;
    };

    l2 = {
      array = {
        type = "SetAssoc";
        ways = 8;
      };
      type = "Timing";
      tagLat = 1;
      mshrs = 32;
      size = 524288;
      children = "l1i|l1d";
    };

    l3 = {
      array = {
        type = "SetAssoc";
        ways = 32;
      };
      type = "Timing";
      tagLat = 9;
      latency = 22;
      mshrs = 64;
	  size = 4194304;
      children = "l2";
    };
  };
  
  frequency = 2700;
  lineSize = 64;
  mem = {
    enableTrace = false;
	mapGranu = 64;
    controllers = 1;
    type = "DramCache";
	# cache_scheme: AlloyCache, HybridCache (Banshee), UnisonCache, Tagless
	cache_scheme = "AlloyCache"; 
    ext_dram = {
      type = "DDR";
	  ranksPerChannel = 1;
	  banksPerRank = 16;
      pageSize = 4096;
      ifhbm = false;
    };
    mcdram = {
	  ranksPerChannel = 1;
	  banksPerRank = 8;
      pageSize = 4096;
      cache_granularity = 64;
      size = 128;
      mcdramPerMC = 8;
	  num_ways = 1;
      sampleRate = 1.0;
	  # placementPolicy: LRU, FBR 
      placementPolicy = "LRU";
      type = "DDR";
      ifhbm = true;
    };
  };
};

sim = {
  maxTotalInstrs = 1000000L;
  phaseLength = 10000;
  schedQuantum = 50;
  gmMBytes = 8192;
  enableTLB = true; 
};

process0 = { command = "./benchmarks/spec2017/benchspec/CPU/505.mcf_r/run/run_base_test_zsim-m64.0000/mcf_r_base.zsim-m64 ./benchmarks/spec2017/benchspec/CPU/505.mcf_r/run/run_base_test_zsim-m64.0000/inp.in"; };
